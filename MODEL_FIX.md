# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ú–û–î–ï–õ–ò GEMINI - –ó–ê–í–ï–†–®–ï–ù–û

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê:

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å `gemini-2.0-flash-exp`, –∫–æ—Ç–æ—Ä–∞—è:
- –ù–µ–¥–æ—Å—Ç—É–ø–Ω–∞ (404 NOT FOUND)
- –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∞ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç

**–û—à–∏–±–∫–∞:**
```
404 NOT FOUND: model gemini-2.0-flash-exp not found
```

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï:

–ó–∞–º–µ–Ω–∏–ª **–í–°–ï** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏ –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é:

### –ò–∑–º–µ–Ω–µ–Ω–∏—è:

**1. –ú–µ—Ç–æ–¥ `get_answer_from_audio_with_rag` (—Å—Ç—Ä–æ–∫–∞ 1141):**
```python
# –ë—ã–ª–æ:
model="gemini-2.0-flash-exp"

# –°—Ç–∞–ª–æ:
model="gemini-2.5-flash"
```

**2. –ú–µ—Ç–æ–¥ `_transcribe_audio` (—Å—Ç—Ä–æ–∫–∞ 1200):**
```python
# –ë—ã–ª–æ:
model="gemini-2.0-flash-exp"

# –°—Ç–∞–ª–æ:
model="gemini-2.5-flash"
```

---

## üìä –¢–ï–ö–£–©–ï–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –ú–û–î–ï–õ–ï–ô:

| –ú–µ—Ç–æ–¥ | –ú–æ–¥–µ–ª—å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------|--------|------------|
| `_translate_to_russian` | `gemini-2.5-flash` ‚úÖ | –ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Ä—É—Å—Å–∫–∏–π |
| `get_answer` | `gemini-2.5-flash` ‚úÖ | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ (—Ç–µ–∫—Å—Ç) |
| `get_answer_from_audio_with_rag` | `gemini-2.5-flash` ‚úÖ | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ (–≥–æ–ª–æ—Å) |
| `_transcribe_audio` | `gemini-2.5-flash` ‚úÖ | –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –∞—É–¥–∏–æ |
| `get_answer_from_audio` (deprecated) | `gemini-2.5-flash` ‚úÖ | –°—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥ |
| `structure_text_for_knowledge` | `gemini-2.5-flash` ‚úÖ | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ |
| `structure_audio_for_knowledge` | `gemini-2.5-flash` ‚úÖ | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—É–¥–∏–æ |
| **Embeddings** | `gemini-embedding-001` ‚úÖ | –í–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è |

**–ò—Ç–æ–≥–æ:** –í—Å–µ –º–µ—Ç–æ–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç **—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ** –º–æ–¥–µ–ª–∏! ‚úÖ

---

## üéØ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê:

### 1. –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ `gemini-2.5-flash` - production-ready –º–æ–¥–µ–ª—å
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- ‚úÖ –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### 2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
- ‚úÖ –õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ multimodal (—Ç–µ–∫—Å—Ç + –∞—É–¥–∏–æ)

### 3. –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- ‚úÖ –û–¥–Ω–∞ –º–æ–¥–µ–ª—å –¥–ª—è –≤—Å–µ—Ö –∑–∞–¥–∞—á
- ‚úÖ –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:

### –¢–µ—Å—Ç 1: –¢–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
```
User: "–ö–∞–∫–æ–π –∫–æ–¥ —Å–∫–ª–∞–¥–∞?"
Model: gemini-2.5-flash ‚úÖ
Status: –†–ê–ë–û–¢–ê–ï–¢
```

### –¢–µ—Å—Ç 2: –ì–æ–ª–æ—Å–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã (—Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è)
```
User: üé§ "–ö–∞–∫–æ–π –ø–∞—Ä–æ–ª—å Wi-Fi?"
Step 1: Transcription (model: gemini-2.5-flash) ‚úÖ
Status: –†–ê–ë–û–¢–ê–ï–¢
```

### –¢–µ—Å—Ç 3: –ì–æ–ª–æ—Å–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–æ—Ç–≤–µ—Ç)
```
Step 2: RAG Search ‚úÖ
Step 3: Answer Generation (model: gemini-2.5-flash) ‚úÖ
Status: –†–ê–ë–û–¢–ê–ï–¢
```

### –¢–µ—Å—Ç 4: –ê–¥–º–∏–Ω –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–Ω–∞–Ω–∏—è (—Ç–µ–∫—Å—Ç)
```
Admin: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç
Model: gemini-2.5-flash ‚úÖ
Status: –†–ê–ë–û–¢–ê–ï–¢
```

### –¢–µ—Å—Ç 5: –ê–¥–º–∏–Ω –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–Ω–∞–Ω–∏—è (–≥–æ–ª–æ—Å)
```
Admin: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç –∞—É–¥–∏–æ
Model: gemini-2.5-flash ‚úÖ
Status: –†–ê–ë–û–¢–ê–ï–¢
```

---

## üìù –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–æ–¥–µ–ª–µ–π:
```python
# –í –Ω–∞—á–∞–ª–µ ai_service.py –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏:
available_models = [m.name for m in gemini_client.models.list()]
logger.info(f"Available Gemini models: {available_models}")
```

### –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `GEMINI_API_KEY` –≤–∞–ª–∏–¥–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ –≤ Google AI Studio

### Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:
–ï—Å–ª–∏ `gemini-2.5-flash` –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- `gemini-1.5-flash` (—Å—Ç–∞—Ä–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è)
- `gemini-1.5-pro` (–±–æ–ª–µ–µ –º–æ—â–Ω–∞—è, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ)

---

## ‚úÖ –°–¢–ê–¢–£–°: –ò–°–ü–†–ê–í–õ–ï–ù–û

**–í—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏ –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω—É—é!**

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `get_answer_from_audio_with_rag()` ‚úÖ
- `_transcribe_audio()` ‚úÖ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ 404
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- ‚úÖ Production-ready

**–ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**
